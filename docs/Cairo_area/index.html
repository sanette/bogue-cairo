<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Cairo_area (bogue-cairo.Bogue_cairo.Cairo_area)</title><link rel="stylesheet" href="../odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.1.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> â€“ <a href="index.html">bogue-cairo</a> &#x00BB; <a href="../index.html">Bogue_cairo</a> &#x00BB; Cairo_area</nav><header class="odoc-preamble"><h1>Module <code><span>Bogue_cairo.Cairo_area</span></code></h1></header><nav class="odoc-toc"><ul><li><a href="#creating-the-cairo-area">Creating the Cairo area</a></li><li><a href="#using-the-cairo-area">Using the Cairo area</a></li><li><a href="#drawing-functions-and-utilities">Drawing functions and utilities</a></li></ul></nav><div class="odoc-content"><div class="odoc-spec"><div class="spec type" id="type-t" class="anchored"><a href="#type-t" class="anchor"></a><code><span><span class="keyword">type</span> t</span></code></div><div class="spec-doc"><p>A Cairo area is a Cairo context married with a Bogue SDL area. Both can be used at the same time (see <a href="#val-flush"><code>flush</code></a>).</p></div></div><h3 id="creating-the-cairo-area"><a href="#creating-the-cairo-area" class="anchor"></a>Creating the Cairo area</h3><div class="odoc-spec"><div class="spec value" id="val-of_sdl_area" class="anchored"><a href="#val-of_sdl_area" class="anchor"></a><code><span><span class="keyword">val</span> of_sdl_area : <span><span class="xref-unresolved">Bogue</span>.Sdl_area.t <span class="arrow">&#45;&gt;</span></span> <a href="#type-t">t</a></span></code></div><div class="spec-doc"><p>Create a Cairo area on top of a existing SDL area.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-create_with_widget" class="anchored"><a href="#val-create_with_widget" class="anchor"></a><code><span><span class="keyword">val</span> create_with_widget : 
  <span>w:int <span class="arrow">&#45;&gt;</span></span>
  <span>h:int <span class="arrow">&#45;&gt;</span></span>
  <span>?style:<span class="xref-unresolved">Bogue</span>.Style.t <span class="arrow">&#45;&gt;</span></span>
  <span>unit <span class="arrow">&#45;&gt;</span></span>
  <a href="#type-t">t</a> * <span class="xref-unresolved">Bogue</span>.Widget.t</span></code></div><div class="spec-doc"><p>Create a Cairo area from scratch and also return a Bogue widget containing the (underlying) SDL area. The interpretation of the arguments is the same as for an SDL area: width, height, and background style.</p></div></div><h3 id="using-the-cairo-area"><a href="#using-the-cairo-area" class="anchor"></a>Using the Cairo area</h3><div class="odoc-spec"><div class="spec value" id="val-init" class="anchored"><a href="#val-init" class="anchor"></a><code><span><span class="keyword">val</span> init : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Initializing the Cairo area is compulsory before adding any drawing commands.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-add" class="anchored"><a href="#val-add" class="anchor"></a><code><span><span class="keyword">val</span> add : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="xref-unresolved">Cairo</span>.context <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p><code>add cairo f</code> adds the command <code>f</code> to the Cairo command queue (which is actually shared with the SDL command queue of the underlying SDL area). The difference is that a Cairo_area command must take as its argument a Cairo context, while an Sdl_area command takes an SDL renderer. For instance:</p><pre><code>add cairo (fun cr -&gt; Cairo.move_to cr 0. 0.)</code></pre><p>As for Sdl_area, the command should be fast, or else it will block the rest of BOGUE's interface.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-flush" class="anchored"><a href="#val-flush" class="anchor"></a><code><span><span class="keyword">val</span> flush : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Insert a Cairo flush command in the command queue. This is compulsory at least at the end of your Cairo commands if you want to see something onscreen. If you don't use the Cairo context anymore, use <a href="#val-finalize"><code>finalize</code></a> instead. If you mix SDL commands and Cairo commands, note that Cairo drawings will appear on the SDL area only at the <code>flush</code> invocation.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-finalize" class="anchored"><a href="#val-finalize" class="anchor"></a><code><span><span class="keyword">val</span> finalize : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Flush and free the Cairo context. It is not usable anymore, unless you call <a href="#val-init"><code>init</code></a> on it again.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-clear" class="anchored"><a href="#val-clear" class="anchor"></a><code><span><span class="keyword">val</span> clear : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Clear the whole area (SDL+Cairo) (but not the background)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-full_session" class="anchored"><a href="#val-full_session" class="anchor"></a><code><span><span class="keyword">val</span> full_session : <span><span class="xref-unresolved">Bogue</span>.Sdl_area.t <span class="arrow">&#45;&gt;</span></span> <span><span>( <span><span class="xref-unresolved">Cairo</span>.context <span class="arrow">&#45;&gt;</span></span> unit )</span> <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Shortcut for small Cairo sessions: <code>full_session area f</code> will create a cairo context with <code>of_sdl_area area</code> and then <code>init cairo; add cairo f;
     finalize cairo</code>.</p></div></div><h3 id="drawing-functions-and-utilities"><a href="#drawing-functions-and-utilities" class="anchor"></a>Drawing functions and utilities</h3><p>Shortcuts to existing Cairo commands, but with the same syntax as Bogue's built-in drawing functions.</p><div class="odoc-spec"><div class="spec value" id="val-drawing_size" class="anchored"><a href="#val-drawing_size" class="anchor"></a><code><span><span class="keyword">val</span> drawing_size : <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span> int * int</span></code></div><div class="spec-doc"><p>Size in physical pixels of the drawing area.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-set_color" class="anchored"><a href="#val-set_color" class="anchor"></a><code><span><span class="keyword">val</span> set_color : <span><span class="xref-unresolved">Cairo</span>.context <span class="arrow">&#45;&gt;</span></span> <span><span class="xref-unresolved">Bogue</span>.Draw.color <span class="arrow">&#45;&gt;</span></span> unit</span></code></div><div class="spec-doc"><p>Set the drawing color for subsequent Cairo drawing functions. (But not for SDL functions.)</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_line" class="anchored"><a href="#val-draw_line" class="anchor"></a><code><span><span class="keyword">val</span> draw_line : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?color:<span class="xref-unresolved">Bogue</span>.Draw.color <span class="arrow">&#45;&gt;</span></span>
  <span>thick:int <span class="arrow">&#45;&gt;</span></span>
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>draw_line cairo ~color ~thick (x1, y1) (x2, y2)</code> draws a line of given <code>color</code> and <code>thick</code>ness from point <code>(x1, y1)</code> to point <code>(x2, y2)</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_rectangle" class="anchored"><a href="#val-draw_rectangle" class="anchor"></a><code><span><span class="keyword">val</span> draw_rectangle : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?color:<span class="xref-unresolved">Bogue</span>.Draw.color <span class="arrow">&#45;&gt;</span></span>
  <span>thick:int <span class="arrow">&#45;&gt;</span></span>
  <span>w:int <span class="arrow">&#45;&gt;</span></span>
  <span>h:int <span class="arrow">&#45;&gt;</span></span>
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>draw_rectangle cairo ~color ~thick ~w ~h x0 y0</code> draws a rectangle of the given line <code>thick</code>ness and <code>color</code> <em>inside</em> the box of top-left coordinates <code>(x0, y0)</code>, width <code>w</code> and height <code>h</code>.</p></div></div><div class="odoc-spec"><div class="spec value" id="val-draw_circle" class="anchored"><a href="#val-draw_circle" class="anchor"></a><code><span><span class="keyword">val</span> draw_circle : 
  <span><a href="#type-t">t</a> <span class="arrow">&#45;&gt;</span></span>
  <span>?color:<span class="xref-unresolved">Bogue</span>.Draw.color <span class="arrow">&#45;&gt;</span></span>
  <span>thick:int <span class="arrow">&#45;&gt;</span></span>
  <span>radius:int <span class="arrow">&#45;&gt;</span></span>
  <span><span>(int * int)</span> <span class="arrow">&#45;&gt;</span></span>
  unit</span></code></div><div class="spec-doc"><p><code>draw_circle cairo ~color ~thick ~radius (x0, y0)</code> draws a circle of the given line <code>thick</code>ness and <code>color</code> <em>inside</em> the disc of center coordinates <code>(x0, y0)</code> and given <code>radius</code>.</p></div></div></div></body></html>